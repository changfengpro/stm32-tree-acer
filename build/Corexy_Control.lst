ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Corexy_Control.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Application/Corexy/Corexy_Control.c"
  20              		.section	.text.CorexyCalculate,"ax",%progbits
  21              		.align	1
  22              		.global	CorexyCalculate
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	CorexyCalculate:
  28              	.LFB134:
   1:Application/Corexy/Corexy_Control.c **** /*
   2:Application/Corexy/Corexy_Control.c ****  * Corexy_Control.c
   3:Application/Corexy/Corexy_Control.c ****  *
   4:Application/Corexy/Corexy_Control.c ****  *  Created on: Aug 31, 2024
   5:Application/Corexy/Corexy_Control.c ****  *      Author: auroranebulas
   6:Application/Corexy/Corexy_Control.c ****  */
   7:Application/Corexy/Corexy_Control.c **** #include "Corexy_Control.h"
   8:Application/Corexy/Corexy_Control.c **** #include "Bsp_can.h"
   9:Application/Corexy/Corexy_Control.c **** #include "robot_def.h"
  10:Application/Corexy/Corexy_Control.c **** #include "robot_cmd.h"
  11:Application/Corexy/Corexy_Control.c **** #include "pid.h"
  12:Application/Corexy/Corexy_Control.c **** 
  13:Application/Corexy/Corexy_Control.c **** 
  14:Application/Corexy/Corexy_Control.c **** float vt_lu, vt_ru, vt_ld, vt_rd;
  15:Application/Corexy/Corexy_Control.c **** extern moto_info_t motor_info[MOTOR_MAX_NUM];
  16:Application/Corexy/Corexy_Control.c **** extern Corexy_Ctrl_Cmd_s Corexy_cmd_recv;             //corexy结构接收到的控制指令
  17:Application/Corexy/Corexy_Control.c **** extern pid_struct_t pid[9];
  18:Application/Corexy/Corexy_Control.c **** extern float pid_ref[9];
  19:Application/Corexy/Corexy_Control.c **** 
  20:Application/Corexy/Corexy_Control.c **** 
  21:Application/Corexy/Corexy_Control.c **** 
  22:Application/Corexy/Corexy_Control.c **** 
  23:Application/Corexy/Corexy_Control.c **** 
  24:Application/Corexy/Corexy_Control.c **** /*
  25:Application/Corexy/Corexy_Control.c ****  * @brief Corexy结构速度计算
  26:Application/Corexy/Corexy_Control.c ****  * @return None
  27:Application/Corexy/Corexy_Control.c ****  */
  28:Application/Corexy/Corexy_Control.c **** void CorexyCalculate()
  29:Application/Corexy/Corexy_Control.c **** {
  29              		.loc 1 29 1 view -0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s 			page 2


  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  30:Application/Corexy/Corexy_Control.c ****     vt_lu =  Corexy_cmd_recv.vz;
  34              		.loc 1 30 5 view .LVU1
  35              		.loc 1 30 29 is_stmt 0 view .LVU2
  36 0000 054B     		ldr	r3, .L2
  37 0002 D3ED027A 		vldr.32	s15, [r3, #8]
  38              		.loc 1 30 11 view .LVU3
  39 0006 054B     		ldr	r3, .L2+4
  40 0008 C3ED007A 		vstr.32	s15, [r3]
  31:Application/Corexy/Corexy_Control.c ****     vt_ru = -Corexy_cmd_recv.vz;
  41              		.loc 1 31 5 is_stmt 1 view .LVU4
  42              		.loc 1 31 13 is_stmt 0 view .LVU5
  43 000c F1EE677A 		vneg.f32	s15, s15
  44              		.loc 1 31 11 view .LVU6
  45 0010 034B     		ldr	r3, .L2+8
  46 0012 C3ED007A 		vstr.32	s15, [r3]
  32:Application/Corexy/Corexy_Control.c **** }
  47              		.loc 1 32 1 view .LVU7
  48 0016 7047     		bx	lr
  49              	.L3:
  50              		.align	2
  51              	.L2:
  52 0018 00000000 		.word	Corexy_cmd_recv
  53 001c 00000000 		.word	vt_lu
  54 0020 00000000 		.word	vt_ru
  55              		.cfi_endproc
  56              	.LFE134:
  58              		.section	.text.CorexyTask,"ax",%progbits
  59              		.align	1
  60              		.global	CorexyTask
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	CorexyTask:
  66              	.LFB135:
  33:Application/Corexy/Corexy_Control.c **** 
  34:Application/Corexy/Corexy_Control.c **** /*
  35:Application/Corexy/Corexy_Control.c ****  * @brief Corexy结构控制任务
  36:Application/Corexy/Corexy_Control.c ****  * @return None
  37:Application/Corexy/Corexy_Control.c ****  */
  38:Application/Corexy/Corexy_Control.c **** void CorexyTask()
  39:Application/Corexy/Corexy_Control.c **** {
  67              		.loc 1 39 1 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71 0000 70B5     		push	{r4, r5, r6, lr}
  72              	.LCFI0:
  73              		.cfi_def_cfa_offset 16
  74              		.cfi_offset 4, -16
  75              		.cfi_offset 5, -12
  76              		.cfi_offset 6, -8
  77              		.cfi_offset 14, -4
  78 0002 82B0     		sub	sp, sp, #8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s 			page 3


  79              	.LCFI1:
  80              		.cfi_def_cfa_offset 24
  40:Application/Corexy/Corexy_Control.c ****     CorexyCalculate();
  81              		.loc 1 40 5 view .LVU9
  82 0004 FFF7FEFF 		bl	CorexyCalculate
  83              	.LVL0:
  41:Application/Corexy/Corexy_Control.c **** 
  42:Application/Corexy/Corexy_Control.c ****     pid_ref[7] = ver_pid_calc(&pid[7], vt_lu, motor_info[7].rotor_speed);
  84              		.loc 1 42 5 view .LVU10
  85              		.loc 1 42 60 is_stmt 0 view .LVU11
  86 0008 1A4E     		ldr	r6, .L6
  87 000a B6F95A30 		ldrsh	r3, [r6, #90]
  88 000e 00EE903A 		vmov	s1, r3	@ int
  89              		.loc 1 42 18 view .LVU12
  90 0012 194D     		ldr	r5, .L6+4
  91 0014 F8EEE00A 		vcvt.f32.s32	s1, s1
  92 0018 184B     		ldr	r3, .L6+8
  93 001a 93ED000A 		vldr.32	s0, [r3]
  94 001e 2846     		mov	r0, r5
  95 0020 FFF7FEFF 		bl	ver_pid_calc
  96              	.LVL1:
  97              		.loc 1 42 16 view .LVU13
  98 0024 164C     		ldr	r4, .L6+12
  99 0026 84ED070A 		vstr.32	s0, [r4, #28]
  43:Application/Corexy/Corexy_Control.c ****     pid_ref[8] = ver_pid_calc(&pid[8], vt_ru, motor_info[8].rotor_speed);
 100              		.loc 1 43 5 is_stmt 1 view .LVU14
 101              		.loc 1 43 60 is_stmt 0 view .LVU15
 102 002a B6F96630 		ldrsh	r3, [r6, #102]
 103 002e 00EE903A 		vmov	s1, r3	@ int
 104              		.loc 1 43 18 view .LVU16
 105 0032 F8EEE00A 		vcvt.f32.s32	s1, s1
 106 0036 134B     		ldr	r3, .L6+16
 107 0038 93ED000A 		vldr.32	s0, [r3]
 108 003c 05F13400 		add	r0, r5, #52
 109 0040 FFF7FEFF 		bl	ver_pid_calc
 110              	.LVL2:
 111              		.loc 1 43 16 view .LVU17
 112 0044 84ED080A 		vstr.32	s0, [r4, #32]
  44:Application/Corexy/Corexy_Control.c **** 
  45:Application/Corexy/Corexy_Control.c ****     set_motor_value_CAN2(0x1FF, 0, 0, pid_ref[7], pid_ref[8]);
 113              		.loc 1 45 5 is_stmt 1 view .LVU18
 114              		.loc 1 45 46 is_stmt 0 view .LVU19
 115 0048 D4ED077A 		vldr.32	s15, [r4, #28]
 116              		.loc 1 45 5 view .LVU20
 117 004c FDEEE77A 		vcvt.s32.f32	s15, s15
 118 0050 BDEEC00A 		vcvt.s32.f32	s0, s0
 119 0054 10EE103A 		vmov	r3, s0	@ int
 120 0058 1BB2     		sxth	r3, r3
 121 005a 0093     		str	r3, [sp]
 122 005c 17EE903A 		vmov	r3, s15	@ int
 123 0060 1BB2     		sxth	r3, r3
 124 0062 0022     		movs	r2, #0
 125 0064 1146     		mov	r1, r2
 126 0066 40F2FF10 		movw	r0, #511
 127 006a FFF7FEFF 		bl	set_motor_value_CAN2
 128              	.LVL3:
  46:Application/Corexy/Corexy_Control.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s 			page 4


  47:Application/Corexy/Corexy_Control.c **** }...
 129              		.loc 1 47 1 view .LVU21
 130 006e 02B0     		add	sp, sp, #8
 131              	.LCFI2:
 132              		.cfi_def_cfa_offset 16
 133              		@ sp needed
 134 0070 70BD     		pop	{r4, r5, r6, pc}
 135              	.L7:
 136 0072 00BF     		.align	2
 137              	.L6:
 138 0074 00000000 		.word	motor_info
 139 0078 6C010000 		.word	pid+364
 140 007c 00000000 		.word	vt_lu
 141 0080 00000000 		.word	pid_ref
 142 0084 00000000 		.word	vt_ru
 143              		.cfi_endproc
 144              	.LFE135:
 146              		.global	vt_rd
 147              		.section	.bss.vt_rd,"aw",%nobits
 148              		.align	2
 151              	vt_rd:
 152 0000 00000000 		.space	4
 153              		.global	vt_ld
 154              		.section	.bss.vt_ld,"aw",%nobits
 155              		.align	2
 158              	vt_ld:
 159 0000 00000000 		.space	4
 160              		.global	vt_ru
 161              		.section	.bss.vt_ru,"aw",%nobits
 162              		.align	2
 165              	vt_ru:
 166 0000 00000000 		.space	4
 167              		.global	vt_lu
 168              		.section	.bss.vt_lu,"aw",%nobits
 169              		.align	2
 172              	vt_lu:
 173 0000 00000000 		.space	4
 174              		.text
 175              	.Letext0:
 176              		.file 2 "d:\\msys64\\mingw64\\arm-none-eabi\\include\\machine\\_default_types.h"
 177              		.file 3 "d:\\msys64\\mingw64\\arm-none-eabi\\include\\sys\\_stdint.h"
 178              		.file 4 "Bsp/Bsp_can.h"
 179              		.file 5 "Application/robot_def.h"
 180              		.file 6 "Application/pid/pid.h"
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 Corexy_Control.c
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:21     .text.CorexyCalculate:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:27     .text.CorexyCalculate:00000000 CorexyCalculate
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:52     .text.CorexyCalculate:00000018 $d
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:172    .bss.vt_lu:00000000 vt_lu
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:165    .bss.vt_ru:00000000 vt_ru
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:59     .text.CorexyTask:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:65     .text.CorexyTask:00000000 CorexyTask
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:138    .text.CorexyTask:00000074 $d
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:151    .bss.vt_rd:00000000 vt_rd
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:148    .bss.vt_rd:00000000 $d
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:158    .bss.vt_ld:00000000 vt_ld
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:155    .bss.vt_ld:00000000 $d
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:162    .bss.vt_ru:00000000 $d
C:\Users\AURORA~1\AppData\Local\Temp\cc7XtD9c.s:169    .bss.vt_lu:00000000 $d

UNDEFINED SYMBOLS
Corexy_cmd_recv
ver_pid_calc
set_motor_value_CAN2
motor_info
pid
pid_ref
